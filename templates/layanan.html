<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ALEXTRANS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/open-iconic-bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/animate.css') }}">
    
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/owl.carousel.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/owl.theme.default.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/magnific-popup.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/aos.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/ionicons.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='dashforge/css/font-awesome.min.css') }}">

    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/bootstrap-datepicker.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/jquery.timepicker.css') }}">

    
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/flaticon.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/icomoon.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/style.css') }}">
    <style>
      body { margin-top: 0 !important; }
      .ftco_navbar { margin-top: 0 !important; }
      .navbar { margin-bottom: 0 !important; }
      .logo-oval { border-radius: 12px; height: 100px; object-fit: cover; }
      .wa-float {
        position: fixed;
        right: 18px;
        bottom: 22px;
        z-index: 9999;
        display: flex;
        align-items: center;
        background: #25D366;
        color: #ffffff;
        border-radius: 999px;
        padding: 10px 14px;
        box-shadow: 0 8px 24px rgba(0,0,0,0.18);
        text-decoration: none;
        animation: wa-pulse 1.6s infinite;
      }
      .wa-float img {
        height: 28px;
        width: 28px;
        margin-right: 10px;
      }
      .wa-float span {
        font-weight: 600;
        color: #ffffff;
      }
      @keyframes wa-pulse {
        0%   { transform: translateZ(0) scale(1); }
        50%  { transform: translateZ(0) scale(1.05); }
        100% { transform: translateZ(0) scale(1); }
      }
      /* Force-hide helper for filtering cards regardless of layout classes */
      .armada-hidden { display: none !important; }
      /* Make hero background look fuller on mobile (match index behavior) */
      @media (max-width: 767.98px) {
        .hero-wrap.hero-wrap-2 {
          background-size: cover !important;
          background-repeat: no-repeat !important;
          background-position: center center !important;
          min-height: 400px !important;
          height: 400px !important;
          position: relative;
        }
        .hero-wrap.hero-wrap-2 .overlay {
          background: linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.6) 100%) !important;
        }
        .hero-wrap.hero-wrap-2 .container {
          position: relative;
          z-index: 2;
          height: 100%;
        }
        .hero-wrap.hero-wrap-2 .slider-text {
          min-height: 400px !important;
          height: 400px !important;
          align-items: flex-end !important;
          justify-content: flex-start !important;
          display: flex !important;
        }
        .hero-wrap.hero-wrap-2 .slider-text .ftco-animate {
          padding-bottom: 3rem !important;
          width: 100%;
          position: relative;
          z-index: 3;
        }
        .hero-wrap.hero-wrap-2 .breadcrumbs {
          font-size: 13px !important;
          color: #ffffff !important;
          opacity: 0.95;
        }
        .hero-wrap.hero-wrap-2 .breadcrumbs a {
          color: #ffffff !important;
        }
        .hero-wrap.hero-wrap-2 h1.bread {
          font-size: 26px !important;
          line-height: 1.3 !important;
          color: #ffffff !important;
          font-weight: 700 !important;
          text-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        /* Lepas Kunci section mobile styling */
        .ftco-intro {
          min-height: 240px !important;
          background-size: cover !important;
          background-position: center right !important;
        }
        .ftco-intro .row {
          min-height: 240px !important;
        }
        .ftco-intro .heading-section {
          padding: 0.75rem !important;
        }
        .ftco-intro h2 {
          font-size: 18px !important;
          line-height: 1.3 !important;
        }
        .ftco-intro p {
          font-size: 13px !important;
          line-height: 1.4 !important;
        }
        .ftco-intro .btn-sm {
          font-size: 13px !important;
          padding: 8px 16px !important;
        }
        .ftco-intro span.d-inline-block {
          font-size: 11px !important;
        }
      }
    </style>
  </head>
  <body>
    
	  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
	    <div class="container">
	      <a class="navbar-brand" href="{{ url_for('index') }}"><img src="{{ url_for('static', filename='assets/images/logo-removebg.png') }}" alt="ALEXTRANS" class="logo-oval"></a>
	      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
	        <span class="oi oi-menu"></span> Menu
	      </button>

	      <div class="collapse navbar-collapse" id="ftco-nav">
	        <ul class="navbar-nav ml-auto">
	          <li class="nav-item"><a href="{{ url_for('index') }}" class="nav-link">Beranda</a></li>
	          <li class="nav-item active"><a href="{{ url_for('layanan') }}" class="nav-link">Layanan</a></li>
	          <li class="nav-item"><a href="{{ url_for('contact') }}" class="nav-link">Tentang & Kontak</a></li>
              <li class="nav-item"><a href="https://wa.me/6287712345678?text=hai%20saya%20mau%20cari%20mobil%20ka" target="_blank" rel="noopener" class="nav-link">WA Booking</a></li>
	        </ul>
	      </div>
	    </div>
	  </nav>
    <!-- END nav -->
    
    <section class="hero-wrap hero-wrap-2 js-fullheight" style="background-image: url('{{ url_for('static', filename='assets/images/home-poster.png') }}');" data-stellar-background-ratio="0.5">
      <div class="overlay"></div>
      <div class="container">
        <div class="row no-gutters slider-text js-fullheight align-items-end justify-content-start">
          <div class="col-lg-6 col-md-8 col-12 ftco-animate pb-5">
          	<p class="breadcrumbs"><span class="mr-2"><a href="{{ url_for('index') }}">Beranda <i class="ion-ios-arrow-forward"></i></a></span> <span>Layanan <i class="ion-ios-arrow-forward"></i></span></p>
            <h1 class="mb-3 bread">Pilih Layanan & Armada</h1>
          </div>
        </div>
      </div>
    </section>
		

		<section class="ftco-section bg-light">
    	<div class="container">
        
        <section class="ftco-section ftco-intro mb-4 py-3" style="background-image: url('{{ url_for('static', filename='assets/images/lepaskunci.png') }}'); min-height: 220px;">
          <div class="overlay"></div>
          <div class="container">
            <div class="row justify-content-start align-items-center" style="min-height: 220px;">
              <div class="col-md-6 col-lg-5 heading-section heading-section-white ftco-animate">
                <span class="d-inline-block px-2 py-1 mb-2" style="background: rgba(255,255,255,.2); color:#ffffff; font-weight:600; border-radius:4px; font-size: 12px;">Layanan Unggulan</span>
                <h2 class="mb-2" style="font-weight:800; font-size: 24px; line-height: 1.3;">Rental Mobil Lepas Kunci Tanpa Survei</h2>
                <p class="mb-3" style="font-size: 14px; line-height: 1.5;">Nikmati kebebasan berkendara tanpa survei! Alextrans Rental hadir dengan layanan Rental Mobil Lepas Kunci, praktis dan efisien.</p>
                <a href="https://wa.me/6287712345678?text=hai%20saya%20mau%20rental%20lepas%20kunci" target="_blank" rel="noopener" class="btn btn-primary btn-sm">Booking Sekarang</a>
              </div>
            </div>
          </div>
        </section>
        <div class="row mb-4">
          <div class="col-12">
            <ul class="nav nav-pills justify-content-center" id="armadaTabs">
              <li class="nav-item">
                <a href="#" class="nav-link active" data-cat="all">Semua</a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link" data-cat="mobil">Mobil</a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link" data-cat="minibus">Minibus</a>
              </li>
              <li class="nav-item">
                <a href="#" class="nav-link" data-cat="bus">Bus</a>
              </li>
            </ul>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="row" id="armadaGrid"></div>
          </div>
        </div>
    		</div>
    	</div>
    </section>
    

    <footer class="ftco-footer ftco-bg-dark ftco-section">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-12">
            <div class="ftco-footer-widget mb-4 text-center">
              <h2 class="ftco-heading-2"><a href="{{ url_for('index') }}" class="logo">ALEXTRANS</a></h2>
              <p>Rental & City Tour Bandung â€” armada lengkap, driver profesional, harga transparan.</p>
              <ul class="ftco-footer-social list-unstyled d-inline-block mt-4">
                <li class="ftco-animate d-inline-block mx-2"><a href="https://instagram.com/" target="_blank" rel="noopener"><span class="icon-instagram"></span></a></li>
                <li class="ftco-animate d-inline-block mx-2"><a href="https://facebook.com/" target="_blank" rel="noopener"><span class="icon-facebook"></span></a></li>
                <li class="ftco-animate d-inline-block mx-2"><a href="https://x.com/" target="_blank" rel="noopener"><span class="icon-twitter"></span></a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | </a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
          </div>
        </div>
      </div>
    </footer>
    
  

  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="{{ url_for('static', filename='assets/js/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery-migrate-3.0.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/popper.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.easing.1.3.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.waypoints.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.stellar.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/owl.carousel.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.magnific-popup.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/aos.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.animateNumber.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/bootstrap-datepicker.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/jquery.timepicker.min.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/scrollax.min.js') }}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="{{ url_for('static', filename='assets/js/google-map.js') }}"></script>
  <script src="{{ url_for('static', filename='assets/js/main.js') }}"></script>
  <script>
    (function() {
      var currentTab = 'all';
      var STATIC_BASE = "{{ url_for('static', filename='') }}";
      var INDEX_LAYANAN_HASH = "{{ url_for('index') }}#layanan";
      var PRICING = {{ pricing | tojson }};
      console.log('PRICING sample:', Array.isArray(PRICING) ? { length: PRICING.length, first: PRICING[0] } : PRICING);
      console.log("check and reach me if you have any questions");

      function normalizeImgPath(p) {
        if (!p) return '';
        if (p.startsWith('http')) return p;
        if (p.startsWith('assets/')) return STATIC_BASE + p;
        return STATIC_BASE + 'assets/' + p;
      }

      function renderCards(items) {
        console.log('renderCards() called with items:', Array.isArray(items) ? items.length : typeof items);
        var grid = document.getElementById('armadaGrid');
        if (!grid) { console.warn('renderCards(): #armadaGrid not found'); return; }
        try {
          var html = (Array.isArray(items) ? items : []).map(function(item, idx) {
            var imgUrl = normalizeImgPath(item.img);
            var catLabel = (item.category === 'bigbus') ? 'Bus' : (item.category === 'minibus' ? 'Minibus' : 'Mobil');
            var driverLabel = item.driver_mandatory ? 'Supir wajib' : 'Supir opsional';
            var price = (item.rent_fee || 0).toLocaleString('id-ID');
            return ''
              + '<div class="col-lg-4 col-md-6 d-flex mb-4" data-category="' + (item.category || '') + '">'
            + '  <div class="car-wrap rounded w-100 shadow-sm" style="overflow: hidden;">'
              + '    <div class="position-relative" style="background:#fff; border-bottom: 1px solid rgba(0,0,0,.05); overflow:hidden; border-top-left-radius:.25rem; border-top-right-radius:.25rem;">'
              + '      <img src="' + imgUrl + '" alt="' + (item.name || '') + '" style="display:block; width:100%; height:220px; object-fit:contain; background:#fff;">'
              + '      <div style="position:absolute; top:8px; left:8px; background: rgba(255,255,255,.95); color:#000; padding:3px 8px; border-radius: 12px; font-size: 12px; font-weight:600; box-shadow: 0 1px 2px rgba(0,0,0,.08);">' + catLabel + '</div>'
              + '      <div style="position:absolute; top:8px; right:8px; background: rgba(255,255,255,.95); color:#000; padding:3px 8px; border-radius: 12px; font-size: 12px; font-weight:600; box-shadow: 0 1px 2px rgba(0,0,0,.08);">' + (item.capacity || '') + ' kursi</div>'
              + (item.driver_mandatory ? '<div style="position:absolute; bottom:8px; right:8px; background:#ffc107; color:#221; padding:3px 8px; border-radius: 12px; font-size: 12px; font-weight:600;">wajib supir</div>' : '')
              + '    </div>'
              + '    <div class="text p-3">'
              + '      <h3 class="mb-1"><a href="' + INDEX_LAYANAN_HASH + '" class="font-weight-bold" style="font-weight:700;">' + (item.name || '') + '</a></h3>'
              + '      <div class="d-flex align-items-center mb-2">'
              + '        <span class="cat">' + driverLabel + '</span>'
              + '        <span class="ml-auto price">Mulai Rp ' + price + ' <span>/hari</span></span>'
              + '      </div>'
              + '      <div class="d-flex align-items-stretch">'
              + '        <a href="' + INDEX_LAYANAN_HASH + '" class="btn btn-sm mr-2 flex-fill text-white" style="background: var(--color-primary-bg); border-color: var(--color-primary-bg);">Cek Harga</a>'
              + '        <a href="https://wa.me/6287712345678?text=hai%20saya%20mau%20cari%20mobil%20ka" target="_blank" rel="noopener" class="btn btn-sm flex-fill text-white" style="background:#25D366; border-color:#25D366;"><img src="' + STATIC_BASE + 'assets/images/icon-wa.png" alt="WA" style="height:16px; width:16px; margin-right:6px;"> Pesan Sekarang</a>'
              + '      </div>'
              + '    </div>'
              + '  </div>'
              + '</div>';
          }).join('');
          grid.innerHTML = html;
          console.log('renderCards(): rendered', (Array.isArray(items) ? items.length : 0), 'cards. Grid children:', grid.children.length);
        } catch (err) {
          console.error('renderCards() error:', err);
        }
      }

      function applyTabs(cat) {
        currentTab = cat;
        console.log('applyTabs():', cat);
        var cards = document.querySelectorAll('[data-category]');
        cards.forEach(function(card) {
          var c = card.getAttribute('data-category') || '';
          function show(s) { 
            card.classList.toggle('d-none', !s); 
            card.classList.toggle('armada-hidden', !s);
          }
          if (cat === 'all') {
            // show all vehicle categories
            show(c === 'mobil' || c === 'minibus' || c === 'bigbus');
          } else if (cat === 'mobil') {
            show(c === 'mobil');
          } else if (cat === 'minibus') {
            show(c === 'minibus');
          } else if (cat === 'bus') {
            show(c === 'bigbus');
          }
        });
        try {
          var shown = Array.prototype.filter.call(cards, function(card) {
            return !card.classList.contains('d-none') && !card.classList.contains('armada-hidden');
          }).length;
          console.log('applyTabs(): visible', shown, 'of', cards.length);
        } catch(e) {
          console.warn('applyTabs(): count error', e);
        }
      }
      document.addEventListener('DOMContentLoaded', function() {
        console.log('DOMContentLoaded');
        var tabs = document.querySelectorAll('#armadaTabs .nav-link');
        tabs.forEach(function(a) {
          a.addEventListener('click', function(e) {
            e.preventDefault();
            tabs.forEach(function(t){ t.classList.remove('active'); });
            a.classList.add('active');
            var cat = a.getAttribute('data-cat');
            applyTabs(cat);
          });
        });
        renderCards(PRICING);
        applyTabs('all');
      });
    })();
  </script>
  <a class="wa-float" href="https://wa.me/6287712345678?text=hai%20saya%20mau%20cari%20mobil%20ka" target="_blank" rel="noopener" aria-label="WhatsApp Chat">
    <img src="{{ url_for('static', filename='assets/images/icon-wa.png') }}" alt="WA">
    <span>Ada yang bisa kami bantu? Chat</span>
  </a>
    
  </body>
</html>